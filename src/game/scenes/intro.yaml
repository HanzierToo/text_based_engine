scene:
  id: intro
  nodes:
    - id: start
      text:
        - key: intro.room
        - "Key status: {{has_key}}"
        - if:
            eq:
              var: has_key
              value: true
          then:
            key: intro.has_key

      choices:
        - id: take_key
          text: "Pick up the key"
          if:
            eq:
              var: has_key
              value: false
          effects:
            - set:
                var: has_key
                value: true
          goto:
            scene: intro
            node: start

        - id: wait
          text: "Wait for a moment"
          goto:
            scene: intro
            node: start
